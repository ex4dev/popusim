const Je=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function n(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerpolicy&&(r.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?r.credentials="include":o.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(o){if(o.ep)return;o.ep=!0;const r=n(o);fetch(o.href,r)}};Je();const I={};function Qe(e){I.context=e}const Xe=(e,t)=>e===t,Ze=Symbol("solid-track"),ce={equals:Xe};let We=je;const J={},Q=1,fe=2,Fe={owned:null,cleanups:null,context:null,owner:null};var C=null;let oe=null,x=null,ne=null,A=null,R=null,Se=0;function $e(e,t){const n=x,i=C,o=e.length===0?Fe:{owned:null,cleanups:null,context:null,owner:t||i};C=o,x=null;try{return Ce(()=>e(()=>Ae(o)),!0)}finally{x=n,C=i}}function N(e,t){t=t?Object.assign({},ce,t):ce;const n={value:e,observers:null,observerSlots:null,pending:J,comparator:t.equals||void 0},i=o=>(typeof o=="function"&&(o=o(n.pending!==J?n.pending:n.value)),we(n,o));return[qe.bind(n),i]}function E(e,t,n){const i=xe(e,t,!1,Q);le(i)}function ze(e,t,n){We=it;const i=xe(e,t,!1,Q);i.user=!0,R?R.push(i):le(i)}function W(e,t,n){n=n?Object.assign({},ce,n):ce;const i=xe(e,t,!0,0);return i.pending=J,i.observers=null,i.observerSlots=null,i.comparator=n.equals||void 0,le(i),qe.bind(i)}function et(e){if(ne)return e();let t;const n=ne=[];try{t=e()}finally{ne=null}return Ce(()=>{for(let i=0;i<n.length;i+=1){const o=n[i];if(o.pending!==J){const r=o.pending;o.pending=J,we(o,r)}}},!1),t}function pe(e){let t,n=x;return x=null,t=e(),x=n,t}function Ue(e){return C===null||(C.cleanups===null?C.cleanups=[e]:C.cleanups.push(e)),e}function qe(){const e=oe;if(this.sources&&(this.state||e)){const t=A;A=null,this.state===Q||e?le(this):de(this),A=t}if(x){const t=this.observers?this.observers.length:0;x.sources?(x.sources.push(this),x.sourceSlots.push(t)):(x.sources=[this],x.sourceSlots=[t]),this.observers?(this.observers.push(x),this.observerSlots.push(x.sources.length-1)):(this.observers=[x],this.observerSlots=[x.sources.length-1])}return this.value}function we(e,t,n){if(ne)return e.pending===J&&ne.push(e),e.pending=t,t;if(e.comparator&&e.comparator(e.value,t))return t;let i=!1;return e.value=t,e.observers&&e.observers.length&&Ce(()=>{for(let o=0;o<e.observers.length;o+=1){const r=e.observers[o];i&&oe.disposed.has(r),(i&&!r.tState||!i&&!r.state)&&(r.pure?A.push(r):R.push(r),r.observers&&Ye(r)),i||(r.state=Q)}if(A.length>1e6)throw A=[],new Error},!1),t}function le(e){if(!e.fn)return;Ae(e);const t=C,n=x,i=Se;x=C=e,tt(e,e.value,i),x=n,C=t}function tt(e,t,n){let i;try{i=e.fn(t)}catch(o){He(o)}(!e.updatedAt||e.updatedAt<=n)&&(e.observers&&e.observers.length?we(e,i):e.value=i,e.updatedAt=n)}function xe(e,t,n,i,o){const r={fn:e,state:i,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:C,context:null,pure:n};return C===null||C!==Fe&&(C.owned?C.owned.push(r):C.owned=[r]),r}function ie(e){const t=oe;if(e.state===0||t)return;if(e.state===fe||t)return de(e);if(e.suspense&&pe(e.suspense.inFallback))return e.suspense.effects.push(e);const n=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<Se);)(e.state||t)&&n.push(e);for(let i=n.length-1;i>=0;i--)if(e=n[i],e.state===Q||t)le(e);else if(e.state===fe||t){const o=A;A=null,de(e,n[0]),A=o}}function Ce(e,t){if(A)return e();let n=!1;t||(A=[]),R?n=!0:R=[],Se++;try{const i=e();return nt(n),i}catch(i){He(i)}finally{A=null,n||(R=null)}}function nt(e){A&&(je(A),A=null),!e&&(R.length?et(()=>{We(R),R=null}):R=null)}function je(e){for(let t=0;t<e.length;t++)ie(e[t])}function it(e){let t,n=0;for(t=0;t<e.length;t++){const o=e[t];o.user?e[n++]=o:ie(o)}I.context&&Qe();const i=e.length;for(t=0;t<n;t++)ie(e[t]);for(t=i;t<e.length;t++)ie(e[t])}function de(e,t){const n=oe;e.state=0;for(let i=0;i<e.sources.length;i+=1){const o=e.sources[i];o.sources&&(o.state===Q||n?o!==t&&ie(o):(o.state===fe||n)&&de(o,t))}}function Ye(e){const t=oe;for(let n=0;n<e.observers.length;n+=1){const i=e.observers[n];(!i.state||t)&&(i.state=fe,i.pure?A.push(i):R.push(i),i.observers&&Ye(i))}}function Ae(e){let t;if(e.sources)for(;e.sources.length;){const n=e.sources.pop(),i=e.sourceSlots.pop(),o=n.observers;if(o&&o.length){const r=o.pop(),l=n.observerSlots.pop();i<o.length&&(r.sourceSlots[l]=i,o[i]=r,n.observerSlots[i]=l)}}if(e.owned){for(t=0;t<e.owned.length;t++)Ae(e.owned[t]);e.owned=null}if(e.cleanups){for(t=0;t<e.cleanups.length;t++)e.cleanups[t]();e.cleanups=null}e.state=0,e.context=null}function He(e){throw e}const Ne=Symbol("fallback");function Ee(e){for(let t=0;t<e.length;t++)e[t]()}function ot(e,t,n={}){let i=[],o=[],r=[],l=[],s=0,u;return Ue(()=>Ee(r)),()=>{const c=e()||[];return c[Ze],pe(()=>{if(c.length===0)return s!==0&&(Ee(r),r=[],i=[],o=[],s=0,l=[]),n.fallback&&(i=[Ne],o[0]=$e(y=>(r[0]=y,n.fallback())),s=1),o;for(i[0]===Ne&&(r[0](),r=[],i=[],o=[],s=0),u=0;u<c.length;u++)u<i.length&&i[u]!==c[u]?l[u](()=>c[u]):u>=i.length&&(o[u]=$e(h));for(;u<i.length;u++)r[u]();return s=l.length=r.length=c.length,i=c.slice(0),o=o.slice(0,s)});function h(y){r[u]=y;const[$,a]=N(c[u]);return l[u]=a,t($,u)}}}function w(e,t){return pe(()=>e(t||{}))}function Le(e){const t="fallback"in e&&{fallback:()=>e.fallback};return W(ot(()=>e.each,e.children,t||void 0))}function he(e){let t=!1;const n=W(()=>e.when,void 0,{equals:(i,o)=>t?i===o:!i==!o});return W(()=>{const i=n();if(i){const o=e.children;return(t=typeof o=="function"&&o.length>0)?pe(()=>o(i)):o}return e.fallback})}function lt(e,t,n){let i=n.length,o=t.length,r=i,l=0,s=0,u=t[o-1].nextSibling,c=null;for(;l<o||s<r;){if(t[l]===n[s]){l++,s++;continue}for(;t[o-1]===n[r-1];)o--,r--;if(o===l){const h=r<i?s?n[s-1].nextSibling:n[r-s]:u;for(;s<r;)e.insertBefore(n[s++],h)}else if(r===s)for(;l<o;)(!c||!c.has(t[l]))&&t[l].remove(),l++;else if(t[l]===n[r-1]&&n[s]===t[o-1]){const h=t[--o].nextSibling;e.insertBefore(n[s++],t[l++].nextSibling),e.insertBefore(n[--r],h),t[o]=n[r]}else{if(!c){c=new Map;let y=s;for(;y<r;)c.set(n[y],y++)}const h=c.get(t[l]);if(h!=null)if(s<h&&h<r){let y=l,$=1,a;for(;++y<o&&y<r&&!((a=c.get(t[y]))==null||a!==h+$);)$++;if($>h-s){const b=t[l];for(;s<h;)e.insertBefore(n[s++],b)}else e.replaceChild(n[s++],t[l++])}else l++;else t[l++].remove()}}}const Be="_$DX_DELEGATE";function rt(e,t,n){let i;return $e(o=>{i=o,t===document?e():d(t,e(),t.firstChild?null:void 0,n)}),()=>{i(),t.textContent=""}}function B(e,t,n){const i=document.createElement("template");i.innerHTML=e;let o=i.content.firstChild;return n&&(o=o.firstChild),o}function Ke(e,t=window.document){const n=t[Be]||(t[Be]=new Set);for(let i=0,o=e.length;i<o;i++){const r=e[i];n.has(r)||(n.add(r),t.addEventListener(r,st))}}function ve(e,t,n){n==null?e.removeAttribute(t):e.setAttribute(t,n)}function m(e,t){t==null?e.removeAttribute("class"):e.className=t}function d(e,t,n,i){if(n!==void 0&&!i&&(i=[]),typeof t!="function")return ge(e,t,i,n);E(o=>ge(e,t(),o,n),i)}function st(e){const t=`$$${e.type}`;let n=e.composedPath&&e.composedPath()[0]||e.target;for(e.target!==n&&Object.defineProperty(e,"target",{configurable:!0,value:n}),Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return n||document}}),I.registry&&!I.done&&(I.done=!0,document.querySelectorAll("[id^=pl-]").forEach(i=>i.remove()));n!==null;){const i=n[t];if(i&&!n.disabled){const o=n[`${t}Data`];if(o!==void 0?i(o,e):i(e),e.cancelBubble)return}n=n.host&&n.host!==n&&n.host instanceof Node?n.host:n.parentNode}}function ge(e,t,n,i,o){for(I.context&&!n&&(n=[...e.childNodes]);typeof n=="function";)n=n();if(t===n)return n;const r=typeof t,l=i!==void 0;if(e=l&&n[0]&&n[0].parentNode||e,r==="string"||r==="number"){if(I.context)return n;if(r==="number"&&(t=t.toString()),l){let s=n[0];s&&s.nodeType===3?s.data=t:s=document.createTextNode(t),n=V(e,n,i,s)}else n!==""&&typeof n=="string"?n=e.firstChild.data=t:n=e.textContent=t}else if(t==null||r==="boolean"){if(I.context)return n;n=V(e,n,i)}else{if(r==="function")return E(()=>{let s=t();for(;typeof s=="function";)s=s();n=ge(e,s,n,i)}),()=>n;if(Array.isArray(t)){const s=[];if(ye(s,t,o))return E(()=>n=ge(e,s,n,i,!0)),()=>n;if(I.context){for(let u=0;u<s.length;u++)if(s[u].parentNode)return n=s}if(s.length===0){if(n=V(e,n,i),l)return n}else Array.isArray(n)?n.length===0?Me(e,s,i):lt(e,n,s):(n&&V(e),Me(e,s));n=s}else if(t instanceof Node){if(I.context&&t.parentNode)return n=l?[t]:t;if(Array.isArray(n)){if(l)return n=V(e,n,i,t);V(e,n,null,t)}else n==null||n===""||!e.firstChild?e.appendChild(t):e.replaceChild(t,e.firstChild);n=t}}return n}function ye(e,t,n){let i=!1;for(let o=0,r=t.length;o<r;o++){let l=t[o],s;if(l instanceof Node)e.push(l);else if(!(l==null||l===!0||l===!1))if(Array.isArray(l))i=ye(e,l)||i;else if((s=typeof l)=="string")e.push(document.createTextNode(l));else if(s==="function")if(n){for(;typeof l=="function";)l=l();i=ye(e,Array.isArray(l)?l:[l])||i}else e.push(l),i=!0;else e.push(document.createTextNode(l.toString()))}return i}function Me(e,t,n){for(let i=0,o=t.length;i<o;i++)e.insertBefore(t[i],n)}function V(e,t,n,i){if(n===void 0)return e.textContent="";const o=i||document.createTextNode("");if(t.length){let r=!1;for(let l=t.length-1;l>=0;l--){const s=t[l];if(o!==s){const u=s.parentNode===e;!r&&!l?u?e.replaceChild(o,s):e.insertBefore(o,n):u&&s.remove()}else r=!0}}else e.insertBefore(o,n);return[o]}const at="_pyramid_elmuq_1",ut="_bar_elmuq_8",ct="_male_elmuq_15",ft="_female_elmuq_20",dt="_barLabel_elmuq_25",ht="_cohortLabel_elmuq_29";var te={pyramid:at,bar:ut,male:ct,female:ft,barLabel:dt,cohortLabel:ht};const gt=B("<table></table>"),pt=B("<tr></tr>"),mt=B("<span>%</span>"),bt=B("<td><div></div></td>"),_t=B("<td> - </td>"),$t=e=>{const t=W(()=>{let l={};for(let s in e.people){const u=e.people[s];l[u.age]||(l[u.age]=[]),l[u.age].push(u)}return l}),n=W(()=>Object.keys(t()).reverse().map(l=>+l)),i=W(()=>{let l=0;for(let s in e.people)l=Math.max(l,e.people[s].percentage(e.people));return l}),o=l=>["male","female"][l.gender],r=l=>`${["Men","Women"][l.gender]} aged ${l.age}-${+l.age+5}
${l.percentage(e.people).toPrecision(5)}% of total
${l.population.toLocaleString("en-US")} people`;return(()=>{const l=gt.cloneNode(!0);return d(l,w(Le,{get each(){return n()},children:(s,u)=>(()=>{const c=pt.cloneNode(!0);return d(c,w(Le,{get each(){return t()[s()]},children:(h,y)=>[(()=>{const $=bt.cloneNode(!0),a=$.firstChild;return d(a,w(he,{get when(){return h().percentage(e.people)>1},get children(){const b=mt.cloneNode(!0),v=b.firstChild;return d(b,()=>Math.round(h().percentage(e.people)*10)/10,v),E(()=>m(b,te.barLabel)),b}})),E(b=>{const v=r(h()),L=`${te.bar} ${te[o(h())]}`,k=h().percentage(e.people)/i()*150+"px";return v!==b._v$&&ve($,"title",b._v$=v),L!==b._v$2&&m(a,b._v$2=L),k!==b._v$3&&a.style.setProperty("width",b._v$3=k),b},{_v$:void 0,_v$2:void 0,_v$3:void 0}),$})(),w(he,{when:y===0,get children(){const $=_t.cloneNode(!0),a=$.firstChild;return d($,s,a),d($,()=>+s()+5,null),E(()=>m($,te.cohortLabel)),$}})]})),c})()})),E(()=>m(l,te.pyramid)),l})()},vt="_App_ocy9d_1",yt="_header_ocy9d_19",St="_stats_ocy9d_26",wt="_numbers_ocy9d_30";var H={App:vt,header:yt,stats:St,numbers:wt};const xt=B("<ul><li>Total Population: <!> </li><ul><li>Young Population: </li><li>Working Population: </li><li>Retired Population: </li></ul><li>Crude Birth Rate: <!> </li><li>Crude Death Rate: <!> </li><li>Average Age: </li></ul>"),Ct=e=>{const t=W(()=>{let n=0,i=0;for(const o of e.people)n+=o.age*o.population,i+=o.population;return Math.round(n/i*100)/100});return(()=>{const n=xt.cloneNode(!0),i=n.firstChild,o=i.firstChild,r=o.nextSibling;r.nextSibling;const l=i.nextSibling,s=l.firstChild;s.firstChild;const u=s.nextSibling;u.firstChild;const c=u.nextSibling;c.firstChild;const h=l.nextSibling,y=h.firstChild,$=y.nextSibling;$.nextSibling;const a=h.nextSibling,b=a.firstChild,v=b.nextSibling;v.nextSibling;const L=a.nextSibling;return L.firstChild,d(i,()=>e.population.toLocaleString("en-US"),r),d(i,()=>e.populationTrend==0?"\u2796":e.populationTrend==1?"\u2B06\uFE0F":"\u2B07\uFE0F",null),d(s,()=>e.youngPopulation.toLocaleString("en-US"),null),d(u,()=>e.workingPopulation.toLocaleString("en-US"),null),d(c,()=>e.retiredPopulation.toLocaleString("en-US"),null),d(h,()=>(e.births/(e.population/1e3)).toPrecision(4),$),d(a,()=>(e.deaths/(e.population/1e3)).toPrecision(4),v),d(L,t,null),E(()=>m(n,H.stats)),n})()},At="_newsTicker_ni95v_1";var Re={newsTicker:At};const kt=B('<div><marquee direction="left"></marquee></div>'),Pt=B("<br>"),Tt=e=>(()=>{const t=kt.cloneNode(!0),n=t.firstChild;return d(n,()=>e.newsStory||Pt.cloneNode(!0)),E(i=>{const o=Re.newsTicker,r=Re.newsTicker;return o!==i._v$&&m(t,i._v$=o),r!==i._v$2&&m(n,i._v$2=r),i},{_v$:void 0,_v$2:void 0}),t})();var Nt="/popusim/assets/solidjs-logo.123b04bc.svg",Et="/popusim/assets/github-logo.7ee145a0.svg";const Lt="_info_1s3d7_1",Bt="_solidLogo_1s3d7_6",Mt="_githubLogo_1s3d7_6",Rt="_credits_1s3d7_11";var ue={info:Lt,solidLogo:Bt,githubLogo:Mt,credits:Rt};const It=B(`<div><h1>What is a Population Pyramid?</h1><p>A population pyramid is a graphic used by demographers and geographers to determine demographic information about a country. It shows the population of each age group (also called a cohort) in a country compared to the other age groups. Then, males and females are divided to show other demographic trends. Population pyramids can help demographers understand the makeup of a country and can make inferences about recent events in a country's history, like a war, famine, epidemic, or a heavy demand for immigrant labor.</p><h1>What are the metrics shown to the right of the pyramid?</h1><b>Crude Birth Rate:</b><p>The amount of births per 1000 people in a country.</p><b>Crude Death Rate:</b><p>The amount of deaths per 1000 people in a country.</p><b>Shortcomings:</b><p>Crude birth rate (CBR) and crude death rate (CDR) can give some useful information about a country, but these metrics typically don't tell the full story. This is why composite metrics like <b>total fertility rate</b> (TFR) are used. This metric measures the amount of children born per woman, assuming every woman lives through her child-bearing years.</p><h1>What do different pyramid shapes mean?</h1><p><b>Pyramid</b>: A rapidly-growing country with a very young population. Typically represents a less-developed country.</p><p><b>Inverted Pyramid</b>: A stage 4/5 country (see the <a href="https://en.wikipedia.org/wiki/Demographic_transition">DTM</a>); one that is declining in population and has a very high average age.</p><p><b>Column</b>: A shape in between a pyramid and an inverted pyramid. These countries are more developed and have not started to decline.</p><p><b>Asymmetric Shape</b>: Asymmetry can represent many things. For example, in the United Arab Emirates, there is a much greater population of men than women because of high demand for immigrant construction jobs in the country. Most of these people are temporary workers who will return home someday.</p><p>Built with&nbsp;<a href="https://www.solidjs.com/"><img> SolidJS</a> &middot; View source on&nbsp;<a href="https://github.com/tylerswanson2/popusim"><img> GitHub</a> &middot; See&nbsp;\u{1F30E}&nbsp;<a href="https://www.populationpyramid.net/">real-world examples</a> of population pyramids.</p></div>`),Ie=()=>(()=>{const e=It.cloneNode(!0),t=e.firstChild,n=t.nextSibling,i=n.nextSibling,o=i.nextSibling,r=o.nextSibling,l=r.nextSibling,s=l.nextSibling,u=s.nextSibling,c=u.nextSibling,h=c.nextSibling,y=h.nextSibling,$=y.nextSibling,a=$.nextSibling,b=a.nextSibling,v=b.nextSibling,L=v.firstChild,k=L.nextSibling,F=k.firstChild,q=k.nextSibling,j=q.nextSibling,U=j.firstChild;return ve(F,"src",Nt),ve(U,"src",Et),E(P=>{const D=ue.info,X=ue.credits,Z=ue.solidLogo,Y=ue.githubLogo;return D!==P._v$&&m(e,P._v$=D),X!==P._v$2&&m(v,P._v$2=X),Z!==P._v$3&&m(F,P._v$3=Z),Y!==P._v$4&&m(U,P._v$4=Y),P},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0}),e})(),Dt="_bottomButtons_gpw3h_1",Ot="_button_gpw3h_6",Wt="_red_gpw3h_6";var M={bottomButtons:Dt,button:Ot,red:Wt};const Ft=B("<div><h1>Policies and Actions</h1><button>Pronatalist Policy</button><button>Antinatalist Policy</button><button>Open-border Policy</button><button>Closed-border Policy</button><button>War</button><br><button>Skip 10 Years</button><button>Skip 100 Years</button><button>Randomize</button><button>Uniform</button></div>"),Ut=e=>(()=>{const t=Ft.cloneNode(!0),n=t.firstChild,i=n.nextSibling,o=i.nextSibling,r=o.nextSibling,l=r.nextSibling,s=l.nextSibling,u=s.nextSibling,c=u.nextSibling,h=c.nextSibling,y=h.nextSibling,$=y.nextSibling;return i.$$click=()=>{e.setBirthRate(.06)},o.$$click=()=>{e.setBirthRate(.03),e.setEmigration(1e3)},r.$$click=()=>{e.setImmigration(6e3)},l.$$click=()=>{e.setImmigration(100)},s.$$click=()=>{e.setEvent(K.War,Math.floor(Math.random()*5)+3)},c.$$click=()=>{for(let a=0;a<10;a++)e.tick()},h.$$click=()=>{for(let a=0;a<100;a++)e.tick()},y.$$click=()=>{const b=e.population/e.people.length;for(let v=0;v<e.people.length;v++)e.people[v].population=Math.floor(Math.random()*b*2)},$.$$click=()=>{const b=e.population/e.people.length;for(let v=0;v<e.people.length;v++)e.people[v].population=b},E(a=>{const b=M.bottomButtons,v=M.button,L=M.button,k=M.button,F=M.button,q=`${M.button} ${M.red}`,j=M.button,U=M.button,P=M.button,D=M.button;return b!==a._v$&&m(t,a._v$=b),v!==a._v$2&&m(i,a._v$2=v),L!==a._v$3&&m(o,a._v$3=L),k!==a._v$4&&m(r,a._v$4=k),F!==a._v$5&&m(l,a._v$5=F),q!==a._v$6&&m(s,a._v$6=q),j!==a._v$7&&m(c,a._v$7=j),U!==a._v$8&&m(h,a._v$8=U),P!==a._v$9&&m(y,a._v$9=P),D!==a._v$10&&m($,a._v$10=D),a},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0,_v$5:void 0,_v$6:void 0,_v$7:void 0,_v$8:void 0,_v$9:void 0,_v$10:void 0}),t})();Ke(["click"]);const qt="_button_1i83c_1";var De={button:qt};const jt=B("<div><button>\u2B06</button><span></span><button>\u2B07</button><span></span></div>"),G=e=>(()=>{const t=jt.cloneNode(!0),n=t.firstChild,i=n.nextSibling,o=i.nextSibling,r=o.nextSibling;return n.$$click=()=>{e.setter(e.number+e.increment)},i.style.setProperty("display","inline-block"),i.style.setProperty("min-width","50px"),i.style.setProperty("text-align","center"),d(i,()=>Math.round(e.number*1e3)/1e3),o.$$click=()=>{e.setter(e.number-e.increment)},d(r,()=>e.name),E(l=>{const s=De.button,u=De.button;return s!==l._v$&&m(n,l._v$=s),u!==l._v$2&&m(o,l._v$2=u),l},{_v$:void 0,_v$2:void 0}),t})();Ke(["click"]);const Yt=B("<div><header><h1>Popusim\u2122 - </h1></header><div></div></div>"),Ht=B("<div><header><h1>You Failed!</h1><p>Somehow you managed to make your whole country die. Great job!</p></header></div>");let O;(function(e){e[e.Male=0]="Male",e[e.Female=1]="Female"})(O||(O={}));class Oe{constructor(t,n,i=t===0?1e6:0){this.age=t,this.population=i,this.gender=n}getTotalPopulation(t,n){let i=0;for(let o in n)i+=n[o].population;return i}percentage(t){return this.population/this.getTotalPopulation(this.gender,t)*100}}let K;(function(e){e[e.War=0]="War",e[e.BabyBoom=1]="BabyBoom"})(K||(K={}));const Kt=()=>{function e(){let g=[];return[0,5,10,15,20,25,30,35,40,45,50,55,60,65,70,75,80,85,90,95].map(S=>{g.push(new Oe(S,O.Male)),g.push(new Oe(S,O.Female))}),g}const[t,n]=N(e(),{equals:!1}),[i,o]=N(2022),[r,l]=N(1),[s,u]=N(""),[c,h]=N([]),[y,$]=N(0),[a,b]=N(0),[v,L]=N(.01),[k,F]=N(.04),[q,j]=N(1e3),[U,P]=N(200),[D,X]=N(.55),Z=(g,S)=>c().push({type:g,duration:S}),Y=W(()=>t().reduce((g,S)=>g+S.population,0)),me=(g,S)=>t().filter(_=>_.age>=g&&_.age<=S).reduce((_,f)=>_+f.population,0),Ve=()=>{let g=0,S=0;for(const _ of c()){if(_.duration--,_.duration<=0){c().splice(c().indexOf(_),1),u(""),_.type==K.War&&Z(K.BabyBoom,10);continue}if(_.type==K.War){u("War has broken out!");for(const f of t())f.age>15&&f.age<30&&f.gender==O.Male&&(S+=f.population/(1/.25),f.population*=.25)}else if(_.type==K.BabyBoom){u("After the war, people are having many more kids!");for(const f of t())f.age>15&&f.age<45&&(g+=f.population*k(),f.population+=f.population*k())}}return{eventBirths:g,eventDeaths:S}},ke=function(){const g=Y();let S=0,_=0;o(i()+1);for(let p in t()){let ae=t()[p],ee=Math.ceil(ae.population/5);if(ee===0)continue;ae.population-=ee;let Te=t()[+p+2];Te!==void 0?Te.population+=ee:_++}for(const p of t()){const ae=p.gender==O.Male?v()*1.2:v(),ee=p.population;p.population*=1-p.age/(1/ae*10),_+=ee-p.population}for(const p of t())p.age>=20&&p.age<=45&&p.gender==O.Female&&(t()[0].population+=k()*p.population,t()[1].population+=k()*p.population,S+=k()*p.population*2),p.age==0&&(p.population*=1-D()/5,_+=D()/5);const f=q()*Math.random(),T=U()*Math.random();for(const p of t())p.age>=20&&p.age<=30?p.population+=p.gender==O.Female?f*.5:f:p.age>=15&&p.age<=25&&(p.population-=p.gender==O.Female?T*.5:T);const{eventBirths:re,eventDeaths:se}=Ve();S+=re,_+=se;for(const p of t())p.population=Math.floor(Math.max(p.population,0));n(t());const z=Y()-g;l(Math.abs(z)<5e3?0:z>0?1:-1),$(S),b(_)},Pe=W(()=>t().some(g=>g.population>0));let be,[_e,Ge]=N(7);return ze(()=>{clearInterval(be),_e()>0&&(be=setInterval(ke,5e3/_e()))}),Ue(()=>clearInterval(be)),[w(he,{get when(){return Pe()},get children(){return[w(Tt,{get newsStory(){return s()}}),(()=>{const g=Yt.cloneNode(!0),S=g.firstChild,_=S.firstChild;_.firstChild;const f=S.nextSibling;return d(_,i,null),d(g,w($t,{get people(){return t()}}),f),d(g,w(Ct,{get people(){return t()},get populationTrend(){return r()},get population(){return Y()},get youngPopulation(){return me(0,15)},get workingPopulation(){return me(20,60)},get retiredPopulation(){return me(65,95)},get births(){return y()},get deaths(){return a()}}),f),d(g,w(Ut,{get class(){return H.bottomButtons},get people(){return t()},get population(){return Y()},setEvent:Z,tick:ke,setBirthRate:F,setDeathRate:L,setImmigration:j,setEmigration:P,setIMR:X}),f),d(f,w(G,{get number(){return k()},setter:F,increment:.01,name:"Birth Rate"}),null),d(f,w(G,{get number(){return v()},setter:L,increment:.01,name:"Death Rate"}),null),d(f,w(G,{get number(){return q()},setter:j,increment:100,name:"Immigrants"}),null),d(f,w(G,{get number(){return U()},setter:P,increment:100,name:"Emigrants"}),null),d(f,w(G,{get number(){return D()},setter:X,increment:.05,name:"Infant Mortality"}),null),d(f,w(G,{get number(){return _e()},setter:Ge,increment:1,name:"Simulation Speed"}),null),d(g,w(Ie,{}),null),E(T=>{const re=H.App,se=H.header,z=H.numbers;return re!==T._v$&&m(g,T._v$=re),se!==T._v$2&&m(S,T._v$2=se),z!==T._v$3&&m(f,T._v$3=z),T},{_v$:void 0,_v$2:void 0,_v$3:void 0}),g})()]}}),w(he,{get when(){return!Pe()},get children(){const g=Ht.cloneNode(!0),S=g.firstChild;return d(g,w(Ie,{}),null),E(_=>{const f=H.App,T=H.header;return f!==_._v$4&&m(g,_._v$4=f),T!==_._v$5&&m(S,_._v$5=T),_},{_v$4:void 0,_v$5:void 0}),g}})]};rt(()=>w(Kt,{}),document.getElementById("root"));
