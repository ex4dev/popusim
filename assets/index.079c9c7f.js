const Je=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerpolicy&&(s.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?s.credentials="include":o.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}};Je();const O={};function Qe(e){O.context=e}const Xe=(e,t)=>e===t,Ze=Symbol("solid-track"),ce={equals:Xe};let Ue=He;const ee={},te=1,fe=2,qe={owned:null,cleanups:null,context:null,owner:null};var P=null;let re=null,C=null,le=null,T=null,I=null,we=0;function ve(e,t){const n=C,i=P,o=e.length===0?qe:{owned:null,cleanups:null,context:null,owner:t||i};P=o,C=null;try{return Ae(()=>e(()=>ke(o)),!0)}finally{C=n,P=i}}function N(e,t){t=t?Object.assign({},ce,t):ce;const n={value:e,observers:null,observerSlots:null,pending:ee,comparator:t.equals||void 0},i=o=>(typeof o=="function"&&(o=o(n.pending!==ee?n.pending:n.value)),xe(n,o));return[Ye.bind(n),i]}function E(e,t,n){const i=Ce(e,t,!1,te);ae(i)}function ze(e,t,n){Ue=it;const i=Ce(e,t,!1,te);i.user=!0,I?I.push(i):ae(i)}function q(e,t,n){n=n?Object.assign({},ce,n):ce;const i=Ce(e,t,!0,0);return i.pending=ee,i.observers=null,i.observerSlots=null,i.comparator=n.equals||void 0,ae(i),Ye.bind(i)}function et(e){if(le)return e();let t;const n=le=[];try{t=e()}finally{le=null}return Ae(()=>{for(let i=0;i<n.length;i+=1){const o=n[i];if(o.pending!==ee){const s=o.pending;o.pending=ee,xe(o,s)}}},!1),t}function pe(e){let t,n=C;return C=null,t=e(),C=n,t}function je(e){return P===null||(P.cleanups===null?P.cleanups=[e]:P.cleanups.push(e)),e}function Ye(){const e=re;if(this.sources&&(this.state||e)){const t=T;T=null,this.state===te||e?ae(this):de(this),T=t}if(C){const t=this.observers?this.observers.length:0;C.sources?(C.sources.push(this),C.sourceSlots.push(t)):(C.sources=[this],C.sourceSlots=[t]),this.observers?(this.observers.push(C),this.observerSlots.push(C.sources.length-1)):(this.observers=[C],this.observerSlots=[C.sources.length-1])}return this.value}function xe(e,t,n){if(le)return e.pending===ee&&le.push(e),e.pending=t,t;if(e.comparator&&e.comparator(e.value,t))return t;let i=!1;return e.value=t,e.observers&&e.observers.length&&Ae(()=>{for(let o=0;o<e.observers.length;o+=1){const s=e.observers[o];i&&re.disposed.has(s),(i&&!s.tState||!i&&!s.state)&&(s.pure?T.push(s):I.push(s),s.observers&&Ke(s)),i||(s.state=te)}if(T.length>1e6)throw T=[],new Error},!1),t}function ae(e){if(!e.fn)return;ke(e);const t=P,n=C,i=we;C=P=e,tt(e,e.value,i),C=n,P=t}function tt(e,t,n){let i;try{i=e.fn(t)}catch(o){Ve(o)}(!e.updatedAt||e.updatedAt<=n)&&(e.observers&&e.observers.length?xe(e,i):e.value=i,e.updatedAt=n)}function Ce(e,t,n,i,o){const s={fn:e,state:i,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:P,context:null,pure:n};return P===null||P!==qe&&(P.owned?P.owned.push(s):P.owned=[s]),s}function se(e){const t=re;if(e.state===0||t)return;if(e.state===fe||t)return de(e);if(e.suspense&&pe(e.suspense.inFallback))return e.suspense.effects.push(e);const n=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<we);)(e.state||t)&&n.push(e);for(let i=n.length-1;i>=0;i--)if(e=n[i],e.state===te||t)ae(e);else if(e.state===fe||t){const o=T;T=null,de(e,n[0]),T=o}}function Ae(e,t){if(T)return e();let n=!1;t||(T=[]),I?n=!0:I=[],we++;try{const i=e();return nt(n),i}catch(i){Ve(i)}finally{T=null,n||(I=null)}}function nt(e){T&&(He(T),T=null),!e&&(I.length?et(()=>{Ue(I),I=null}):I=null)}function He(e){for(let t=0;t<e.length;t++)se(e[t])}function it(e){let t,n=0;for(t=0;t<e.length;t++){const o=e[t];o.user?e[n++]=o:se(o)}O.context&&Qe();const i=e.length;for(t=0;t<n;t++)se(e[t]);for(t=i;t<e.length;t++)se(e[t])}function de(e,t){const n=re;e.state=0;for(let i=0;i<e.sources.length;i+=1){const o=e.sources[i];o.sources&&(o.state===te||n?o!==t&&se(o):(o.state===fe||n)&&de(o,t))}}function Ke(e){const t=re;for(let n=0;n<e.observers.length;n+=1){const i=e.observers[n];(!i.state||t)&&(i.state=fe,i.pure?T.push(i):I.push(i),i.observers&&Ke(i))}}function ke(e){let t;if(e.sources)for(;e.sources.length;){const n=e.sources.pop(),i=e.sourceSlots.pop(),o=n.observers;if(o&&o.length){const s=o.pop(),l=n.observerSlots.pop();i<o.length&&(s.sourceSlots[l]=i,o[i]=s,n.observerSlots[i]=l)}}if(e.owned){for(t=0;t<e.owned.length;t++)ke(e.owned[t]);e.owned=null}if(e.cleanups){for(t=0;t<e.cleanups.length;t++)e.cleanups[t]();e.cleanups=null}e.state=0,e.context=null}function Ve(e){throw e}const Be=Symbol("fallback");function Me(e){for(let t=0;t<e.length;t++)e[t]()}function ot(e,t,n={}){let i=[],o=[],s=[],l=[],r=0,u;return je(()=>Me(s)),()=>{const c=e()||[];return c[Ze],pe(()=>{if(c.length===0)return r!==0&&(Me(s),s=[],i=[],o=[],r=0,l=[]),n.fallback&&(i=[Be],o[0]=ve($=>(s[0]=$,n.fallback())),r=1),o;for(i[0]===Be&&(s[0](),s=[],i=[],o=[],r=0),u=0;u<c.length;u++)u<i.length&&i[u]!==c[u]?l[u](()=>c[u]):u>=i.length&&(o[u]=ve(p));for(;u<i.length;u++)s[u]();return r=l.length=s.length=c.length,i=c.slice(0),o=o.slice(0,r)});function p($){s[u]=$;const[m,w]=N(c[u]);return l[u]=w,t(m,u)}}}function x(e,t){return pe(()=>e(t||{}))}function Re(e){const t="fallback"in e&&{fallback:()=>e.fallback};return q(ot(()=>e.each,e.children,t||void 0))}function he(e){let t=!1;const n=q(()=>e.when,void 0,{equals:(i,o)=>t?i===o:!i==!o});return q(()=>{const i=n();if(i){const o=e.children;return(t=typeof o=="function"&&o.length>0)?pe(()=>o(i)):o}return e.fallback})}function lt(e,t,n){let i=n.length,o=t.length,s=i,l=0,r=0,u=t[o-1].nextSibling,c=null;for(;l<o||r<s;){if(t[l]===n[r]){l++,r++;continue}for(;t[o-1]===n[s-1];)o--,s--;if(o===l){const p=s<i?r?n[r-1].nextSibling:n[s-r]:u;for(;r<s;)e.insertBefore(n[r++],p)}else if(s===r)for(;l<o;)(!c||!c.has(t[l]))&&t[l].remove(),l++;else if(t[l]===n[s-1]&&n[r]===t[o-1]){const p=t[--o].nextSibling;e.insertBefore(n[r++],t[l++].nextSibling),e.insertBefore(n[--s],p),t[o]=n[s]}else{if(!c){c=new Map;let $=r;for(;$<s;)c.set(n[$],$++)}const p=c.get(t[l]);if(p!=null)if(r<p&&p<s){let $=l,m=1,w;for(;++$<o&&$<s&&!((w=c.get(t[$]))==null||w!==p+m);)m++;if(m>p-r){const a=t[l];for(;r<p;)e.insertBefore(n[r++],a)}else e.replaceChild(n[r++],t[l++])}else l++;else t[l++].remove()}}}const Ie="_$DX_DELEGATE";function st(e,t,n){let i;return ve(o=>{i=o,t===document?e():h(t,e(),t.firstChild?null:void 0,n)}),()=>{i(),t.textContent=""}}function B(e,t,n){const i=document.createElement("template");i.innerHTML=e;let o=i.content.firstChild;return n&&(o=o.firstChild),o}function Pe(e,t=window.document){const n=t[Ie]||(t[Ie]=new Set);for(let i=0,o=e.length;i<o;i++){const s=e[i];n.has(s)||(n.add(s),t.addEventListener(s,rt))}}function ye(e,t,n){n==null?e.removeAttribute(t):e.setAttribute(t,n)}function g(e,t){t==null?e.removeAttribute("class"):e.className=t}function h(e,t,n,i){if(n!==void 0&&!i&&(i=[]),typeof t!="function")return ge(e,t,i,n);E(o=>ge(e,t(),o,n),i)}function rt(e){const t=`$$${e.type}`;let n=e.composedPath&&e.composedPath()[0]||e.target;for(e.target!==n&&Object.defineProperty(e,"target",{configurable:!0,value:n}),Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return n||document}}),O.registry&&!O.done&&(O.done=!0,document.querySelectorAll("[id^=pl-]").forEach(i=>i.remove()));n!==null;){const i=n[t];if(i&&!n.disabled){const o=n[`${t}Data`];if(o!==void 0?i(o,e):i(e),e.cancelBubble)return}n=n.host&&n.host!==n&&n.host instanceof Node?n.host:n.parentNode}}function ge(e,t,n,i,o){for(O.context&&!n&&(n=[...e.childNodes]);typeof n=="function";)n=n();if(t===n)return n;const s=typeof t,l=i!==void 0;if(e=l&&n[0]&&n[0].parentNode||e,s==="string"||s==="number"){if(O.context)return n;if(s==="number"&&(t=t.toString()),l){let r=n[0];r&&r.nodeType===3?r.data=t:r=document.createTextNode(t),n=Z(e,n,i,r)}else n!==""&&typeof n=="string"?n=e.firstChild.data=t:n=e.textContent=t}else if(t==null||s==="boolean"){if(O.context)return n;n=Z(e,n,i)}else{if(s==="function")return E(()=>{let r=t();for(;typeof r=="function";)r=r();n=ge(e,r,n,i)}),()=>n;if(Array.isArray(t)){const r=[];if(Se(r,t,o))return E(()=>n=ge(e,r,n,i,!0)),()=>n;if(O.context){for(let u=0;u<r.length;u++)if(r[u].parentNode)return n=r}if(r.length===0){if(n=Z(e,n,i),l)return n}else Array.isArray(n)?n.length===0?De(e,r,i):lt(e,n,r):(n&&Z(e),De(e,r));n=r}else if(t instanceof Node){if(O.context&&t.parentNode)return n=l?[t]:t;if(Array.isArray(n)){if(l)return n=Z(e,n,i,t);Z(e,n,null,t)}else n==null||n===""||!e.firstChild?e.appendChild(t):e.replaceChild(t,e.firstChild);n=t}}return n}function Se(e,t,n){let i=!1;for(let o=0,s=t.length;o<s;o++){let l=t[o],r;if(l instanceof Node)e.push(l);else if(!(l==null||l===!0||l===!1))if(Array.isArray(l))i=Se(e,l)||i;else if((r=typeof l)=="string")e.push(document.createTextNode(l));else if(r==="function")if(n){for(;typeof l=="function";)l=l();i=Se(e,Array.isArray(l)?l:[l])||i}else e.push(l),i=!0;else e.push(document.createTextNode(l.toString()))}return i}function De(e,t,n){for(let i=0,o=t.length;i<o;i++)e.insertBefore(t[i],n)}function Z(e,t,n,i){if(n===void 0)return e.textContent="";const o=i||document.createTextNode("");if(t.length){let s=!1;for(let l=t.length-1;l>=0;l--){const r=t[l];if(o!==r){const u=r.parentNode===e;!s&&!l?u?e.replaceChild(o,r):e.insertBefore(o,n):u&&r.remove()}else s=!0}}else e.insertBefore(o,n);return[o]}const at="_pyramid_elmuq_1",ut="_bar_elmuq_8",ct="_male_elmuq_15",ft="_female_elmuq_20",dt="_barLabel_elmuq_25",ht="_cohortLabel_elmuq_29";var oe={pyramid:at,bar:ut,male:ct,female:ft,barLabel:dt,cohortLabel:ht};const gt=B("<table></table>"),pt=B("<tr></tr>"),bt=B("<span>%</span>"),mt=B("<td><div></div></td>"),_t=B("<td> - </td>"),$t=e=>{const t=q(()=>{let l={};for(let r in e.people){const u=e.people[r];l[u.age]||(l[u.age]=[]),l[u.age].push(u)}return l}),n=q(()=>Object.keys(t()).reverse().map(l=>+l)),i=q(()=>{let l=0;for(let r in e.people)l=Math.max(l,e.people[r].percentage(e.people));return l}),o=l=>["male","female"][l.gender],s=l=>`${["Men","Women"][l.gender]} aged ${l.age}-${+l.age+5}
${l.percentage(e.people).toPrecision(5)}% of total
${l.population.toLocaleString("en-US")} people`;return(()=>{const l=gt.cloneNode(!0);return h(l,x(Re,{get each(){return n()},children:(r,u)=>(()=>{const c=pt.cloneNode(!0);return h(c,x(Re,{get each(){return t()[r()]},children:(p,$)=>[(()=>{const m=mt.cloneNode(!0),w=m.firstChild;return h(w,x(he,{get when(){return p().percentage(e.people)>1},get children(){const a=bt.cloneNode(!0),v=a.firstChild;return h(a,()=>Math.round(p().percentage(e.people)*10)/10,v),E(()=>g(a,oe.barLabel)),a}})),E(a=>{const v=s(p()),y=`${oe.bar} ${oe[o(p())]}`,A=p().percentage(e.people)/i()*150+"px";return v!==a._v$&&ye(m,"title",a._v$=v),y!==a._v$2&&g(w,a._v$2=y),A!==a._v$3&&w.style.setProperty("width",a._v$3=A),a},{_v$:void 0,_v$2:void 0,_v$3:void 0}),m})(),x(he,{when:$===0,get children(){const m=_t.cloneNode(!0),w=m.firstChild;return h(m,r,w),h(m,()=>+r()+5,null),E(()=>g(m,oe.cohortLabel)),m}})]})),c})()})),E(()=>g(l,oe.pyramid)),l})()},vt="_App_ocy9d_1",yt="_header_ocy9d_19",St="_stats_ocy9d_26",wt="_numbers_ocy9d_30";var Q={App:vt,header:yt,stats:St,numbers:wt};const xt=B("<div><h1>Stats</h1><ul><li>Total Population: <!> </li><ul><li>Young Population: </li><li>Working Population: </li><li>Retired Population: </li></ul><li>Crude Birth Rate: <!> </li><li>Crude Death Rate: <!> </li><li>Average Age: </li></ul></div>"),Ct=e=>{const t=q(()=>{let n=0,i=0;for(const o of e.people)n+=o.age*o.population,i+=o.population;return Math.round(n/i*100)/100});return(()=>{const n=xt.cloneNode(!0),i=n.firstChild,o=i.nextSibling,s=o.firstChild,l=s.firstChild,r=l.nextSibling;r.nextSibling;const u=s.nextSibling,c=u.firstChild;c.firstChild;const p=c.nextSibling;p.firstChild;const $=p.nextSibling;$.firstChild;const m=u.nextSibling,w=m.firstChild,a=w.nextSibling;a.nextSibling;const v=m.nextSibling,y=v.firstChild,A=y.nextSibling;A.nextSibling;const M=v.nextSibling;return M.firstChild,h(s,()=>e.population.toLocaleString("en-US"),r),h(s,()=>e.populationTrend==0?"\u2796":e.populationTrend==1?"\u2B06\uFE0F":"\u2B07\uFE0F",null),h(c,()=>e.youngPopulation.toLocaleString("en-US"),null),h(p,()=>e.workingPopulation.toLocaleString("en-US"),null),h($,()=>e.retiredPopulation.toLocaleString("en-US"),null),h(m,()=>(e.births/(e.population/1e3)).toPrecision(4),a),h(v,()=>(e.deaths/(e.population/1e3)).toPrecision(4),A),h(M,t,null),E(()=>g(n,Q.stats)),n})()},At="_newsTicker_ni95v_1";var Oe={newsTicker:At};const kt=B('<div><marquee direction="left"></marquee></div>'),Pt=B("<br>"),Tt=e=>(()=>{const t=kt.cloneNode(!0),n=t.firstChild;return h(n,()=>e.newsStory||Pt.cloneNode(!0)),E(i=>{const o=Oe.newsTicker,s=Oe.newsTicker;return o!==i._v$&&g(t,i._v$=o),s!==i._v$2&&g(n,i._v$2=s),i},{_v$:void 0,_v$2:void 0}),t})();var Nt="/popusim/assets/solidjs-logo.123b04bc.svg",Et="/popusim/assets/github-logo.7ee145a0.svg";const Lt="_info_1s3d7_1",Bt="_solidLogo_1s3d7_6",Mt="_githubLogo_1s3d7_6",Rt="_credits_1s3d7_11";var ue={info:Lt,solidLogo:Bt,githubLogo:Mt,credits:Rt};const It=B(`<div><h1>What is a Population Pyramid?</h1><p>A population pyramid is a graphic used by demographers and geographers to determine demographic information about a country. It shows the population of each age group (also called a cohort) in a country compared to the other age groups. Then, males and females are divided to show other demographic trends. Population pyramids can help demographers understand the makeup of a country and can make inferences about recent events in a country's history, like a war, famine, epidemic, or a heavy demand for immigrant labor.</p><h1>What are the metrics shown to the right of the pyramid?</h1><b>Crude Birth Rate:</b><p>The amount of births per 1000 people in a country.</p><b>Crude Death Rate:</b><p>The amount of deaths per 1000 people in a country.</p><b>Shortcomings:</b><p>Crude birth rate (CBR) and crude death rate (CDR) can give some useful information about a country, but these metrics typically don't tell the full story. This is why composite metrics like <b>total fertility rate</b> (TFR) are used. This metric measures the amount of children born per woman, assuming every woman lives through her child-bearing years.</p><h1>What do different pyramid shapes mean?</h1><p><b>Pyramid</b>: A rapidly-growing country with a very young population. Typically represents a less-developed country.</p><p><b>Inverted Pyramid</b>: A stage 4/5 country (see the <a href="https://en.wikipedia.org/wiki/Demographic_transition">DTM</a>); one that is declining in population and has a very high average age.</p><p><b>Column</b>: A shape in between a pyramid and an inverted pyramid. These countries are more developed and have not started to decline.</p><p><b>Asymmetric Shape</b>: Asymmetry can represent many things. For example, in the United Arab Emirates, there is a much greater population of men than women because of high demand for immigrant construction jobs in the country. Most of these people are temporary workers who will return home someday.</p><p>Built with&nbsp;<a href="https://www.solidjs.com/"><img> SolidJS</a> &middot; View source on&nbsp;<a href="https://github.com/tylerswanson2/popusim"><img> GitHub</a> &middot; See&nbsp;\u{1F30E}&nbsp;<a href="https://www.populationpyramid.net/">real-world examples</a> of population pyramids.</p></div>`),We=()=>(()=>{const e=It.cloneNode(!0),t=e.firstChild,n=t.nextSibling,i=n.nextSibling,o=i.nextSibling,s=o.nextSibling,l=s.nextSibling,r=l.nextSibling,u=r.nextSibling,c=u.nextSibling,p=c.nextSibling,$=p.nextSibling,m=$.nextSibling,w=m.nextSibling,a=w.nextSibling,v=a.nextSibling,y=v.firstChild,A=y.nextSibling,M=A.firstChild,V=A.nextSibling,j=V.nextSibling,Y=j.firstChild;return ye(M,"src",Nt),ye(Y,"src",Et),E(k=>{const W=ue.info,F=ue.credits,ne=ue.solidLogo,G=ue.githubLogo;return W!==k._v$&&g(e,k._v$=W),F!==k._v$2&&g(v,k._v$2=F),ne!==k._v$3&&g(M,k._v$3=ne),G!==k._v$4&&g(Y,k._v$4=G),k},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0}),e})(),Dt="_bottomButtons_gpw3h_1",Ot="_button_gpw3h_6",Wt="_red_gpw3h_6";var L={bottomButtons:Dt,button:Ot,red:Wt};const Ft=B("<div><h1>Policies</h1><p>Presets for some of the available settings.</p><button>Pronatalist Policy</button><button>Antinatalist Policy</button><button>Open-border Policy</button><button>Closed-border Policy</button><h1>Actions</h1><button>War</button><button>Skip 10 Years</button><button>Skip 100 Years</button><button>Randomize</button><button>Uniform</button></div>"),Ut=e=>(()=>{const t=Ft.cloneNode(!0),n=t.firstChild,i=n.nextSibling,o=i.nextSibling,s=o.nextSibling,l=s.nextSibling,r=l.nextSibling,u=r.nextSibling,c=u.nextSibling,p=c.nextSibling,$=p.nextSibling,m=$.nextSibling,w=m.nextSibling;return o.$$click=()=>{e.setBirthRate(.06)},s.$$click=()=>{e.setBirthRate(.03),e.setEmigration(1e3)},l.$$click=()=>{e.setImmigration(6e3)},r.$$click=()=>{e.setImmigration(100)},c.$$click=()=>{e.setEvent(X.War,Math.floor(Math.random()*5)+3)},p.$$click=()=>{for(let a=0;a<10;a++)e.tick()},$.$$click=()=>{for(let a=0;a<100;a++)e.tick()},m.$$click=()=>{const v=e.population/e.people.length;for(let y=0;y<e.people.length;y++)e.people[y].population=Math.floor(Math.random()*v*2)},w.$$click=()=>{const v=e.population/e.people.length;for(let y=0;y<e.people.length;y++)e.people[y].population=v},E(a=>{const v=L.bottomButtons,y=L.button,A=L.button,M=L.button,V=L.button,j=`${L.button} ${L.red}`,Y=L.button,k=L.button,W=L.button,F=L.button;return v!==a._v$&&g(t,a._v$=v),y!==a._v$2&&g(o,a._v$2=y),A!==a._v$3&&g(s,a._v$3=A),M!==a._v$4&&g(l,a._v$4=M),V!==a._v$5&&g(r,a._v$5=V),j!==a._v$6&&g(c,a._v$6=j),Y!==a._v$7&&g(p,a._v$7=Y),k!==a._v$8&&g($,a._v$8=k),W!==a._v$9&&g(m,a._v$9=W),F!==a._v$10&&g(w,a._v$10=F),a},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0,_v$5:void 0,_v$6:void 0,_v$7:void 0,_v$8:void 0,_v$9:void 0,_v$10:void 0}),t})();Pe(["click"]);const qt="_button_azc4d_1",jt="_text_azc4d_17";var $e={button:qt,text:jt};const Yt=B("<div><button>\u2B06</button><span></span><button>\u2B07</button><span></span></div>"),z=e=>(()=>{const t=Yt.cloneNode(!0),n=t.firstChild,i=n.nextSibling,o=i.nextSibling,s=o.nextSibling;return n.$$click=()=>{e.setter(e.number+e.increment)},h(i,()=>Math.round(e.number*1e3)/1e3),o.$$click=()=>{e.setter(Math.max(0,e.number-e.increment))},h(s,()=>e.name),E(l=>{const r=$e.button,u=$e.text,c=$e.button;return r!==l._v$&&g(n,l._v$=r),u!==l._v$2&&g(i,l._v$2=u),c!==l._v$3&&g(o,l._v$3=c),l},{_v$:void 0,_v$2:void 0,_v$3:void 0}),t})();Pe(["click"]);const Ht=B("<div><header><h1>Popusim\u2122 - </h1></header><div><h1>Settings</h1><button>Reset All</button></div></div>"),Kt=B("<div><header><h1>You Failed!</h1><p>Somehow you managed to make your whole country die. Great job!</p></header></div>");let U;(function(e){e[e.Male=0]="Male",e[e.Female=1]="Female"})(U||(U={}));class Fe{constructor(t,n,i=t===0?1e6:0){this.age=t,this.population=i,this.gender=n}getTotalPopulation(t,n){let i=0;for(let o in n)i+=n[o].population;return i}percentage(t){return this.population/this.getTotalPopulation(this.gender,t)*100}}let X;(function(e){e[e.War=0]="War",e[e.BabyBoom=1]="BabyBoom"})(X||(X={}));const Vt=()=>{function e(){let b=[];return[0,5,10,15,20,25,30,35,40,45,50,55,60,65,70,75,80,85,90,95].map(S=>{b.push(new Fe(S,U.Male)),b.push(new Fe(S,U.Female))}),b}const[t,n]=N(e(),{equals:!1}),[i,o]=N(2022),[s,l]=N(1),[r,u]=N(""),[c,p]=N([]),[$,m]=N(0),[w,a]=N(0),[v,y]=N(.01),[A,M]=N(.04),[V,j]=N(1e3),[Y,k]=N(200),[W,F]=N(.55),ne=(b,S)=>c().push({type:b,duration:S}),G=q(()=>t().reduce((b,S)=>b+S.population,0)),be=(b,S)=>t().filter(_=>_.age>=b&&_.age<=S).reduce((_,d)=>_+d.population,0),Ge=()=>{let b=0,S=0;for(const _ of c()){if(_.duration--,_.duration<=0){c().splice(c().indexOf(_),1),u(""),_.type==X.War&&ne(X.BabyBoom,10);continue}if(_.type==X.War){u("War has broken out!");for(const d of t())d.age>15&&d.age<30&&d.gender==U.Male&&(S+=d.population/(1/.25),d.population*=.25)}else if(_.type==X.BabyBoom){u("After the war, people are having many more kids!");for(const d of t())d.age>15&&d.age<45&&(b+=d.population*A(),d.population+=d.population*A())}}return{eventBirths:b,eventDeaths:S}},Te=function(){const b=G();let S=0,_=0;o(i()+1);for(let f in t()){let J=t()[f],K=Math.ceil(J.population/5);if(K===0)continue;J.population-=K;let Le=t()[+f+2];Le!==void 0?Le.population+=K:_++}for(const f of t()){const J=f.gender==U.Male?v()*1.2:v(),K=f.population;f.population*=1-f.age/(1/J*10),_+=K-f.population}for(const f of t())f.age>=20&&f.age<=45&&f.gender==U.Female&&(t()[0].population+=A()*f.population,t()[1].population+=A()*f.population,S+=A()*f.population*2),f.age==0&&(f.population*=1-W()/5,_+=W()/5);const d=V()*Math.random(),H=Y()*Math.random();for(const f of t())f.age>=20&&f.age<=30?f.population+=f.gender==U.Female?d*.5:d:f.age>=15&&f.age<=25&&(f.population-=f.gender==U.Female?H*.5:H);const{eventBirths:D,eventDeaths:R}=Ge();S+=D,_+=R;for(const f of t())f.population=Math.floor(Math.max(f.population,0));n(t());const ie=G()-b;l(Math.abs(ie)<5e3?0:ie>0?1:-1),m(S),a(_)},Ne=q(()=>t().some(b=>b.population>0));let me,[_e,Ee]=N(7);return ze(()=>{clearInterval(me),_e()>0&&(me=setInterval(Te,5e3/_e()))}),je(()=>clearInterval(me)),[x(he,{get when(){return Ne()},get children(){return[x(Tt,{get newsStory(){return r()}}),(()=>{const b=Ht.cloneNode(!0),S=b.firstChild,_=S.firstChild;_.firstChild;const d=S.nextSibling,H=d.firstChild,D=H.nextSibling;return h(_,i,null),h(b,x($t,{get people(){return t()}}),d),h(b,x(Ct,{get people(){return t()},get populationTrend(){return s()},get population(){return G()},get youngPopulation(){return be(0,15)},get workingPopulation(){return be(20,60)},get retiredPopulation(){return be(65,95)},get births(){return $()},get deaths(){return w()}}),d),h(b,x(Ut,{get class(){return Q.bottomButtons},get people(){return t()},get population(){return G()},setEvent:ne,tick:Te,setBirthRate:M,setDeathRate:y,setImmigration:j,setEmigration:k,setIMR:F}),d),h(d,x(z,{get number(){return A()},setter:M,increment:.01,name:"Birth Rate"}),D),h(d,x(z,{get number(){return v()},setter:y,increment:.01,name:"Death Rate"}),D),h(d,x(z,{get number(){return V()},setter:j,increment:100,name:"Immigrants"}),D),h(d,x(z,{get number(){return Y()},setter:k,increment:100,name:"Emigrants"}),D),h(d,x(z,{get number(){return W()},setter:F,increment:.05,name:"Infant Mortality"}),D),h(d,x(z,{get number(){return _e()},setter:Ee,increment:1,name:"Simulation Speed"}),D),D.$$click=()=>{M(.04),y(.01),j(1e3),k(200),F(.55),Ee(7)},h(b,x(We,{}),null),E(R=>{const ie=Q.App,f=Q.header,J=Q.numbers,K=`${L.button} ${L.red}`;return ie!==R._v$&&g(b,R._v$=ie),f!==R._v$2&&g(S,R._v$2=f),J!==R._v$3&&g(d,R._v$3=J),K!==R._v$4&&g(D,R._v$4=K),R},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0}),b})()]}}),x(he,{get when(){return!Ne()},get children(){const b=Kt.cloneNode(!0),S=b.firstChild;return h(b,x(We,{}),null),E(_=>{const d=Q.App,H=Q.header;return d!==_._v$5&&g(b,_._v$5=d),H!==_._v$6&&g(S,_._v$6=H),_},{_v$5:void 0,_v$6:void 0}),b}})]};Pe(["click"]);st(()=>x(Vt,{}),document.getElementById("root"));
